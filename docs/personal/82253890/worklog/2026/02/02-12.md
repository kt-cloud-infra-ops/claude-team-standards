---
tags:
  - type/worklog
  - audience/personal
  - personal/82253890
aliases: []
id: 02-12
---

> 상위: [worklog](../../README.md) · [82253890](../../../) · [personal](../../../../README.md)

# 2026-02-12 작업일지

## 완료

- **TECHIOPS26-100** E2E 네비게이션 테스트 보강
  - 종합 관제 팝업 열기 테스트 구현
  - 관제담당자: 모든 메뉴(6개 GNB) 표시 확인 테스트
  - 관제자: 제한된 메뉴(권한관리 숨김) 확인 테스트
  - 계정관리자: IP+OTP 필요로 스킵 처리
- **TECHIOPS26-100** 사용자 라이프사이클 E2E 테스트 신규 작성
  - user-lifecycle.spec.ts 신규 작성 (4개 serial 테스트)
  - 승인대기 사용자 로그인 불가 확인
  - DB로 승인 처리 후 전체 사용자 현황에서 상태 "사용" 확인
  - 승인된 사용자 로그인 성공
  - 설비권한그룹(G0010) 배정 후 이벤트/인벤토리 조회
  - 계정관리자 역할 제약(IP+OTP) → DB/API 하이브리드 접근 채택
- E2E 전체 결과: 202 passed / 9 skipped / 2 failed (기존 결함)
- **O11y Phase 4 (Web UI)** 레퍼런스 구현 완료 — 4개 Task
  - Task #19: 관제 대상 삭제 탭 분리 (deleteHosts.jsp — Zabbix/Zenius/O11y 3탭 신규 도입)
  - Task #20: 예외 관리 타입 선택 팝업 (subEventState.jsp, subEventStatePopupExcp.jsp, subEventStatePopupDeviceAdd.jsp)
  - Task #21: 메인터넌스 관리 타입 선택 팝업 (subEventState.jsp, subMaintenanceInfo.jsp, subMaintenanceRegistPop.jsp)
  - Task #22: 이벤트 목록 source 컬럼 + 상세 팝업 source/dashboard_url 필드 추가 (subEventState.jsp, sql-evt.xml)
- **O11y Phase 4 코드 리뷰 수정** — CRITICAL 3건 + HIGH 3건
  - CRITICAL-1: XSS 방지 — dashboard_url DOM API 렌더링 + URL 스킴 검증 (subEventState.jsp)
  - CRITICAL-2: @Transactional 추가 — createServiceMaintenance (ZabServiceImpl.java)
  - CRITICAL-3: try-catch 에러 처리 — maintenanceCreateService (ZabController.java)
  - HIGH-2: null-safety — hostList null/empty 체크 (InventoryManagerServiceImpl.java)
  - HIGH-3: SQL WHERE 보강 — region 조건 추가 (sql-Inventory.xml)
  - HIGH-4: dedup key 보완 — evt_name 포함 (subEventStatePopupExcp.jsp)
- **O11y Phase 5 (Scheduler)** 확인 — 이미 구현 완료
  - ObservabilityEventWorker, EventWorkerFactory EST030, EventBatchMapper 등 4개 커밋에서 완료
- **O11y Phase 6 (Cross-Cutting)** 확인 — 이미 적용 완료
  - DDL/DML: 02-ddl.sql 6-8장 (CONTROL_AREA, zone매핑, 마이그레이션)
  - UNION ALL: sql-dashboard(7건), sql-evt(7건+Excel 3건), sql-cmm(1건), sql-evt-cmm(1건), sql-icd(2건) 모두 적용 (커밋 c5e24df8)
- **O11y UI 변경사항 목업** 작성
  - docs/temp/mockup-phase4-ui.html — 브라우저에서 4개 Task 변경사항 시각 확인

## 기타

- Claude Code 권한 설정 조정
  - ~/.claude/settings.json에 Edit/Write 권한 추가
  - 심볼릭 링크 통한 workspace 파일 편집 시 프롬프트 제거
- Claude Code Stop hook 알림 사운드 설정 (Hero.aiff, 볼륨 3x)
  - iTerm 환경에서 Claude 응답 완료 시 소리 알림
  - ~/.claude/settings.json Stop hook 추가
- 설계 워크플로우 개선: 구현 전 UI 목업(HTML) 작성 → 브라우저 확인 → 구현 프로세스 도입

## Jira 이슈

| 이슈 | 작업 내용 | 상태 변경 |
|------|----------|----------|
| TECHIOPS26-100 | 네비게이션 테스트 보강 + 사용자 라이프사이클 테스트 신규 | - |
| TECHIOPS26-57 | O11y Phase 4 레퍼런스 구현 (예외 관리 타입 선택) | - |
| TECHIOPS26-81 | O11y Phase 4 레퍼런스 구현 (메인터넌스 타입 선택) | - |

- **O11y 통합테스트 시나리오 검증** (07-integration-test.md vs 실제 코드)
  - CRITICAL 4건 + HIGH 5건 발견
  - C1: 프로시저 Service JOIN prefix 매칭 미구현 → 방안A(LIKE) 결정, 개발사 수정 요청
  - C2: Mock warning 이벤트 → 설계 스펙(critical/fatal만)에 맞게 수정
  - C3/C4: 검증 SQL 컬럼명 수정 (event_id→obs_event_id, status→zabbix_state)
  - H1~H3: processed_yn→DELETE, control_area→gubun 수정
  - 08-review-tracker.md 전면 갱신 (코드리뷰+테스트 단계 반영)
- **O11y 코드리뷰** (luppiter_web c2ad4b9d, 25파일)
  - CRITICAL 3 + HIGH 3 + MEDIUM 6 발견
  - 레퍼런스 커밋 완료 (feature/o11y)

## 진행 중

- E2E 기존 실패 2건 수정 대기 (기존 결함)
- O11y Mock 서버 생성 필요 (workspace/o11y-mock/)
- O11y Scheduler UNION ALL 미확인 (Maintenance/Exception Alarm Mapper)
- O11y 개발사 피드백 전달: 프로시저 prefix 매칭 + 코드리뷰 CRITICAL 3건

## 관련 문서

### Jira
| 키 | 설명 |
|----|------|
| TECHIOPS26-100 | 유피테르 테스트 자동화 |
| TECHIOPS26-57 | 예외 관리 O11y 타입 선택 |
| TECHIOPS26-81 | 메인터넌스 관리 O11y 타입 선택 |
| TECHIOPS26-271 | Cross-Cutting 기존 시스템 영향도 |

### 로컬 문서
| 문서 | 설명 |
|------|------|
| docs/temp/mockup-phase4-ui.html | Phase 4 UI 변경사항 목업 |
| docs/support-projects/next-observability/07-integration-test.md | 통합테스트 시나리오 (수정 완료) |
| docs/support-projects/next-observability/08-review-tracker.md | 리뷰 추적 문서 (세션 이어하기용) |
| docs/support-projects/next-observability/implementation-guide.md | O11y 구현 가이드 |

## 메모
