---
tags:
  - type/worklog
  - audience/personal
  - personal/82253890
aliases: []
id: 02-12
---

> 상위: [worklog](../../README.md) · [82253890](../../../) · [personal](../../../../README.md)

# 2026-02-12 작업일지

## 완료

- **TECHIOPS26-100** E2E 네비게이션 테스트 보강
  - 종합 관제 팝업 열기 테스트 구현
  - 관제담당자: 모든 메뉴(6개 GNB) 표시 확인 테스트
  - 관제자: 제한된 메뉴(권한관리 숨김) 확인 테스트
  - 계정관리자: IP+OTP 필요로 스킵 처리
- **TECHIOPS26-100** 사용자 라이프사이클 E2E 테스트 신규 작성
  - user-lifecycle.spec.ts 신규 작성 (4개 serial 테스트)
  - 승인대기 사용자 로그인 불가 확인
  - DB로 승인 처리 후 전체 사용자 현황에서 상태 "사용" 확인
  - 승인된 사용자 로그인 성공
  - 설비권한그룹(G0010) 배정 후 이벤트/인벤토리 조회
  - 계정관리자 역할 제약(IP+OTP) → DB/API 하이브리드 접근 채택
- **TECHIOPS26-100** E2E 이벤트 일괄 처리 테스트
  - event-batch.spec.ts — 테스트 이벤트 생성→일괄 인지→일괄 조치완료 flow
- **TECHIOPS26-100** E2E 관제 장비 관리 테스트 (host-management.spec.ts 신규)
  - 관제 삭제 설정, 등록/삭제 이력, 관제대상 추가 (숨겨진 메뉴), 권한별 접근 제어
  - 셀렉터 3회 수정: 탭→L1 드롭다운, placeholder 완화, CSS→role-based
- **TECHIOPS26-100** E2E 메인터넌스 등록 폼 테스트 (maintenance-crud.spec.ts 신규)
  - 등록 팝업 열기/닫기, 빠른 기간 설정, 유효성 검사, 대상 추가 팝업, 수정 팝업, 상태 필터, ID/호스트 검색
  - loading overlay 수정: #popupLoading hide + force click
- **TECHIOPS26-100** E2E 미커버 페이지 3건 추가 — 전체 페이지 커버리지 달성
  - event-exception.spec.ts (12건) — 이벤트 관제 중단 설정: 검색 필터, 수정/이력 팝업, 권한 검증
  - response-management.spec.ts (12건) — 호스트그룹-대응관리: 드롭다운, 수정/이력/부서관리/담당자조회 팝업
  - layer-code.spec.ts (8건) — 설비권한그룹-호스트그룹: 좌우 분할 레이아웃, 조회/수정/이력 팝업
- **TECHIOPS26-100** E2E 데이터 변경 CRUD 라이프사이클 테스트 3건
  - maintenance-lifecycle.spec.ts (5건) — DB 생성→설정 검색→상세 팝업→이력→상태 변경(활성→종료)
  - incident-lifecycle.spec.ts (4건) — DB 생성(조치중)→대응 검색→상세 팝업→DB 조치완료→이력
  - exception-lifecycle.spec.ts (4건) — DB 생성→관제 중단 검색→수정 팝업→DB 만료→예외종료 필터
- **TECHIOPS26-100** E2E 크로스 페이지 워크플로우 테스트 2건
  - event-to-incident.spec.ts (4건) — 이벤트 선택→인시던트확대→confirm→API→인시던트 페이지 이동→DB 검증
  - event-to-exception.spec.ts (3건) — 이벤트 선택→예외등록 버튼→팝업 확인
- **TECHIOPS26-100** E2E 엑셀 다운로드 테스트
  - excel-download.spec.ts (4건) — 이벤트이력/인시던트/인벤토리/대응관리 다운로드
- **TECHIOPS26-100** E2E 페이지네이션/정렬/날짜/담당자 테스트
  - pagination-sort.spec.ts (4건) — 페이지 크기 변경, 페이지 이동, 컬럼 정렬
  - date-picker.spec.ts (4건) — 기간 단축(1개월/3개월), 초기화, 메인터넌스 기간 검색
  - person-in-charge.spec.ts (3건) — 대응관리/실시간이벤트/이벤트이력 담당자조회 팝업
- E2E 전체 결과: **292 passed** / 9 skipped / 2 failed (기존 결함)
- **O11y Phase 4 (Web UI)** 레퍼런스 구현 완료 — 4개 Task
  - Task #19: 관제 대상 삭제 탭 분리 (deleteHosts.jsp — Zabbix/Zenius/O11y 3탭 신규 도입)
  - Task #20: 예외 관리 타입 선택 팝업 (subEventState.jsp, subEventStatePopupExcp.jsp, subEventStatePopupDeviceAdd.jsp)
  - Task #21: 메인터넌스 관리 타입 선택 팝업 (subEventState.jsp, subMaintenanceInfo.jsp, subMaintenanceRegistPop.jsp)
  - Task #22: 이벤트 목록 source 컬럼 + 상세 팝업 source/dashboard_url 필드 추가 (subEventState.jsp, sql-evt.xml)
- **O11y Phase 4 코드 리뷰 수정** — CRITICAL 3건 + HIGH 3건
  - CRITICAL-1: XSS 방지 — dashboard_url DOM API 렌더링 + URL 스킴 검증 (subEventState.jsp)
  - CRITICAL-2: @Transactional 추가 — createServiceMaintenance (ZabServiceImpl.java)
  - CRITICAL-3: try-catch 에러 처리 — maintenanceCreateService (ZabController.java)
  - HIGH-2: null-safety — hostList null/empty 체크 (InventoryManagerServiceImpl.java)
  - HIGH-3: SQL WHERE 보강 — region 조건 추가 (sql-Inventory.xml)
  - HIGH-4: dedup key 보완 — evt_name 포함 (subEventStatePopupExcp.jsp)
- **O11y Phase 5 (Scheduler)** 확인 — 이미 구현 완료
  - ObservabilityEventWorker, EventWorkerFactory EST030, EventBatchMapper 등 4개 커밋에서 완료
- **O11y Phase 6 (Cross-Cutting)** 확인 — 이미 적용 완료
  - DDL/DML: 02-ddl.sql 6-8장 (CONTROL_AREA, zone매핑, 마이그레이션)
  - UNION ALL: sql-dashboard(7건), sql-evt(7건+Excel 3건), sql-cmm(1건), sql-evt-cmm(1건), sql-icd(2건) 모두 적용 (커밋 c5e24df8)
- **O11y UI 변경사항 목업** 작성
  - docs/temp/mockup-phase4-ui.html — 브라우저에서 4개 Task 변경사항 시각 확인

## 기타

- Claude Code 권한 설정 조정
  - ~/.claude/settings.json에 Edit/Write 권한 추가
  - 심볼릭 링크 통한 workspace 파일 편집 시 프롬프트 제거
- Claude Code Stop hook 알림 사운드 설정 (Hero.aiff, 볼륨 3x)
  - iTerm 환경에서 Claude 응답 완료 시 소리 알림
  - ~/.claude/settings.json Stop hook 추가
- 설계 워크플로우 개선: 구현 전 UI 목업(HTML) 작성 → 브라우저 확인 → 구현 프로세스 도입

## Jira 이슈

| 이슈 | 작업 내용 | 상태 변경 |
|------|----------|----------|
| TECHIOPS26-100 | 네비게이션 테스트 보강 + 사용자 라이프사이클 테스트 신규 | - |
| TECHIOPS26-57 | O11y Phase 4 레퍼런스 구현 (예외 관리 타입 선택) | - |
| TECHIOPS26-81 | O11y Phase 4 레퍼런스 구현 (메인터넌스 타입 선택) | - |

- **O11y 통합테스트 시나리오 검증** (07-integration-test.md vs 실제 코드)
  - CRITICAL 4건 + HIGH 5건 발견
  - C1: 프로시저 Service JOIN prefix 매칭 미구현 → 방안A(LIKE) 결정, 개발사 수정 요청
  - C2: Mock warning 이벤트 → 설계 스펙(critical/fatal만)에 맞게 수정
  - C3/C4: 검증 SQL 컬럼명 수정 (event_id→obs_event_id, status→zabbix_state)
  - H1~H3: processed_yn→DELETE, control_area→gubun 수정
  - 08-review-tracker.md 전면 갱신 (코드리뷰+테스트 단계 반영)
- **O11y 코드리뷰** (luppiter_web c2ad4b9d, 25파일)
  - CRITICAL 3 + HIGH 3 + MEDIUM 6 발견
  - 레퍼런스 커밋 완료 (feature/o11y)

- **O11y Mock 서버** 생성 (workspace/o11y-mock/mock_server.py)
  - Worker API 계약 일치: since_seq, events[], last_seq, seq 필드
  - event_level: 전건 critical/fatal (설계 스펙 반영)
  - 기존 test-o11y-mock/ 대비 API 계약 5건 수정
- **O11y system_code 통일** — ES0010 확정
  - implementation-guide.md OBS001→ES0010 3건 수정
  - 근거: 06-scheduler-api-migration.md (설계 확정문서)

## 진행 중

- E2E 기존 실패 2건 수정 대기 (기존 앱 버그: 인벤토리 드롭다운, 설비권한그룹 사용자 목록)
- E2E skip 9건: URL 관제 7건(외부 링크), 계정관리자 1건(OTP), 설비권한그룹 1건(앱 버그)
- O11y Scheduler UNION ALL 미확인 (Maintenance/Exception Alarm Mapper)
- O11y 개발사 피드백 전달: 프로시저 prefix 매칭 + 코드리뷰 CRITICAL 3건

## 관련 문서

### Jira
| 키 | 설명 |
|----|------|
| TECHIOPS26-100 | 유피테르 테스트 자동화 |
| TECHIOPS26-57 | 예외 관리 O11y 타입 선택 |
| TECHIOPS26-81 | 메인터넌스 관리 O11y 타입 선택 |
| TECHIOPS26-271 | Cross-Cutting 기존 시스템 영향도 |

### 로컬 문서
| 문서 | 설명 |
|------|------|
| docs/temp/mockup-phase4-ui.html | Phase 4 UI 변경사항 목업 |
| docs/support-projects/next-observability/07-integration-test.md | 통합테스트 시나리오 (수정 완료) |
| docs/support-projects/next-observability/08-review-tracker.md | 리뷰 추적 문서 (세션 이어하기용) |
| docs/support-projects/next-observability/implementation-guide.md | O11y 구현 가이드 |

## 메모
