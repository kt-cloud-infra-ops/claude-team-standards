# 2026-02-10 작업일지

## 완료
- 어제 작업분(performance.md, CLAUDE.md, 인벤토리 가이드, 프로젝트 README) 커밋 & 푸시 (work/2026-02-09)
- work/2026-02-10 브랜치 생성 (main 기준)
- TECHIOPS26-271 사전 점검 완료 — 7개 SQL 파일 inventory_master 참조 전수 검증
- 설계 문서(04-functional-spec.md) 9장 검증 결과 반영
- Confluence "서비스 인벤토리 UNION ALL 적용 가이드" 페이지 생성 (SREP 스페이스)
- LUPR-699/700 체크리스트 코멘트 + Confluence 링크 추가
- LUPR-701 코드 리뷰 댓글 등록 (CRITICAL 3건 포함 6건)
- claude_lessons_learned 문서 3건 생성/업데이트

## Jira 이슈

| 이슈 | 작업 내용 | 상태 변경 |
|------|----------|----------|
| TECHIOPS26-271 | 쿼리 파일 검증 + 설계 문서 갱신 | In Progress → In Review |
| LUPR-699 | UNION ALL 체크리스트 코멘트 + Confluence 링크 | - |
| LUPR-700 | UNION ALL 체크리스트 코멘트 + Confluence 링크 | - |
| LUPR-701 | 코드 리뷰 (CRITICAL 3, HIGH 2, MEDIUM 1) | - |

## 코드 리뷰
- **LUPR-701** MaintenanceAlarmServiceJob Observability 통합
  - CRITICAL: Map.of 괄호 버그, 에러 핸들링 누락, 토큰 평문 노출
  - HIGH: system_code 하드코딩, UNION ALL 빈 IP 처리
  - MEDIUM: SQL alias 불일치 (api_token vs token)

## 검증 결과
- MaintenanceAlarmServiceMapper.xml: 설계 5개 → 실제 1개 (파일 203줄, 라인번호 오류)
- sql-evt.xml: 설계 5개 → 실제 7개 (단건조회 L1681, 배치이벤트 L1693 추가 발견)

## 생성/변경 파일
- `docs/support-projects/next-observability/04-functional-spec.md` — 9.2, 9.4, 9.5, 9.9 수정
- `docs/claude_lessons_learned/java/code-review-traps.md` — 신규
- `docs/claude_lessons_learned/java/mybatis-sql-patterns.md` — 신규
- `docs/claude_lessons_learned/common/mcp-tools-guide.md` — ADF 프로젝트 타입별 차이 추가

## 특이사항
- LUPR 프로젝트(회사관리형)는 Jira 코멘트에서 ADF taskList 미지원 → bulletList+☐ 폴백
- Confluence SREP 스페이스에 협력사용 가이드 페이지 최초 생성
