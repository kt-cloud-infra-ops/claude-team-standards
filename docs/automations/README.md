# ìë™í™” íŒ¨í„´ (Automation Patterns)

ì„¸ì…˜ ì¤‘ ë°œê²¬ë˜ê³  ë°˜ë³µë˜ëŠ” ì‘ì—…ë“¤ì„ ë¶„ì„í•˜ì—¬ ìë™í™” ê°€ëŠ¥í•œ íŒ¨í„´ìœ¼ë¡œ ë¬¸ì„œí™”í•©ë‹ˆë‹¤.

## ë°œê²¬ í˜„í™©

| # | íŒ¨í„´ | ì„¤ëª… | ìš°ì„ ìˆœìœ„ | ìƒíƒœ | ì˜ˆìƒ íš¨ê³¼ |
|---|------|------|---------|------|---------|
| 001 | SQL í”„ë¡œì‹œì € ë¶„ì„ | í”„ë¡œì‹œì €ì˜ êµ¬ì¡°ì™€ ì„±ëŠ¥ íŠ¹ì„± ìë™ ë¶„ì„ | **HIGH** | ì„¤ê³„ ì™„ë£Œ | 80% ì‹œê°„ ë‹¨ì¶• |
| 002 | Java Job ë¶„ì„ | ë°°ì¹˜ ì‘ì—… í´ë˜ìŠ¤ì˜ ë³µì¡ë„ì™€ ì•ˆì „ì„± ë¶„ì„ | **HIGH** | ì„¤ê³„ ì™„ë£Œ | 70% ì‹œê°„ ë‹¨ì¶• |
| 003 | ì„±ëŠ¥ ì´ìŠˆ ë¬¸ì„œ | ì„±ëŠ¥ ì´ìŠˆ ë¶„ì„ ë³´ê³ ì„œ í…œí”Œë¦¿ | **MEDIUM** | ì„¤ê³„ ì™„ë£Œ | 66% ì‹œê°„ ë‹¨ì¶• |
| 004 | SQL DDL ìƒì„± | í…Œì´ë¸” DDL ìë™ ìƒì„± ë° ë§ˆì´ê·¸ë ˆì´ì…˜ | **HIGH** | ì„¤ê³„ ì™„ë£Œ | 90% ì‹œê°„ ë‹¨ì¶• |

## ì„¸ì…˜ í†µê³„

### í™œë™ íŒ¨í„´
```
ğŸ“… ìµœê·¼ 10ì¼ ì„¸ì…˜ ë¶„í¬
  2026-01-19: 39 sessions
  2026-01-20: 38 sessions
  2026-01-21: 27 sessions
  2026-01-23: 39 sessions
  2026-01-27: 36 sessions

â° ì‹œê°„ëŒ€ë³„ í™œë™ (ì „ì²´ 196ê°œ ì´ë²¤íŠ¸)
  ì˜¤ì „ (08-11): â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 53% (104ê°œ)
  ì˜¤í›„ (12-16): â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 32% (62ê°œ)
  ì €ë… (17-19): â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 15% (30ê°œ)

ğŸ“Š í”„ë¡œì íŠ¸ë³„ í™œë™
  projects (claude): 3,508 entries (93.7MB)
  ì¼ë°˜ í”„ë¡œì íŠ¸: 944 entries
  ì´í•©: 4,452 entries
```

## ë‹¤ìŒ ë‹¨ê³„

### Phase 1: ìš°ì„ ìˆœìœ„ HIGH (1ì£¼)
1. SQL í”„ë¡œì‹œì € ë¶„ì„ ë„êµ¬ ê°œë°œ
   - [ ] íŒŒì´ì¬ ë¶„ì„ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±
   - [ ] ìŠ¬ë˜ì‹œ ì»¤ë§¨ë“œ í†µí•©
   - [ ] í…ŒìŠ¤íŠ¸ (p_combine_event_obs)

2. Java Job ë¶„ì„ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì¤€ë¹„
   - [ ] ì²´í¬ë¦¬ìŠ¤íŠ¸ í…œí”Œë¦¿ ë§ˆí¬ë‹¤ìš´í™”
   - [ ] ì •ì  ë¶„ì„ ìŠ¤í¬ë¦½íŠ¸ ê°œë°œ
   - [ ] ObservabilityEventWorker í…ŒìŠ¤íŠ¸

3. SQL DDL ìƒì„± ë„êµ¬ ê°œë°œ
   - [ ] Python ìŠ¤í¬ë¦½íŠ¸ ì™„ì„±
   - [ ] ë§ˆì´ê·¸ë ˆì´ì…˜ ìë™í™”
   - [ ] ê²€ì¦ ì¿¼ë¦¬ ìƒì„±

### Phase 2: ìš°ì„ ìˆœìœ„ MEDIUM (2ì£¼)
1. ì„±ëŠ¥ ì´ìŠˆ ë¶„ì„ ìë™í™”
   - [ ] ìŠ¬ë˜ì‹œ ì»¤ë§¨ë“œ ê°œë°œ
   - [ ] ì§€ë¼ ì´ìŠˆ í…œí”Œë¦¿ ì—°ë™
   - [ ] ë©”íŠ¸ë¦­ ìë™ ìˆ˜ì§‘

2. í†µí•© CLI ë„êµ¬ ê°œë°œ
   - [ ] ëª¨ë“  ë„êµ¬ í†µí•©
   - [ ] ì›¹ UI ê°œë°œ (ì„ íƒ)
   - [ ] ê²°ê³¼ ì €ì¥ì†Œ êµ¬ì¶•

## íŒ¨í„´ë³„ ìƒì„¸ ì •ë³´

### 001 - SQL í”„ë¡œì‹œì € ë¶„ì„
**íŒŒì¼**: [`001-sql-procedure-analysis.md`](./001-sql-procedure-analysis.md)

ì„¸ì…˜ ì¤‘ ë™ì¼í•œ êµ¬ì¡°ì˜ í”„ë¡œì‹œì €ë¥¼ ì—¬ëŸ¬ ê°œ ë¶„ì„:
- í”„ë¡œì‹œì € íŒŒì¼ íŒŒì‹±
- í…Œì´ë¸” ì˜ì¡´ì„± ì¶”ì¶œ
- ì„±ëŠ¥ íŠ¹ì„± ë¶„ì„ (LOOP ê°œìˆ˜, JOIN ìˆ˜)
- Markdown ë³´ê³ ì„œ ìƒì„±

**ì˜ˆì‹œ**: `p_combine_event_zabbix`, `p_combine_event_zenius`, `p_combine_event_obs`

### 002 - Java Job ë¶„ì„
**íŒŒì¼**: [`002-java-job-analysis.md`](./002-java-job-analysis.md)

ë°°ì¹˜ ì‘ì—… í´ë˜ìŠ¤ì˜ ì²´ê³„ì  ë¶„ì„:
- êµ¬ì¡° íŒŒì•… (ë©”ì„œë“œ, ì˜ì¡´ì„±)
- ë³µì¡ë„ ê³„ì‚°
- ì™¸ë¶€ í˜¸ì¶œ ë¶„ì„
- ì—ëŸ¬ ì²˜ë¦¬ ê²€ì¦
- ë¦¬ì†ŒìŠ¤ ì •ë¦¬ í™•ì¸

**ì˜ˆì‹œ**: `CombineEventServiceJob`, `EventAlarmServiceJob`, `ObservabilityEventWorker`

### 003 - ì„±ëŠ¥ ì´ìŠˆ ë¬¸ì„œ
**íŒŒì¼**: [`003-performance-issue-doc.md`](./003-performance-issue-doc.md)

í‘œì¤€í™”ëœ ì„±ëŠ¥ ì´ìŠˆ ë¶„ì„ í…œí”Œë¦¿:
- ì‹œìŠ¤í…œ ì»¨í…ìŠ¤íŠ¸
- íƒ€ì„ë¼ì¸ (ë°œìƒ ~ í•´ê²°)
- 5W1H ì›ì¸ ë¶„ì„
- ì¦‰ì‹œ ì¡°ì¹˜ í•­ëª©
- ì¥ê¸° ê°œì„  ê³„íš
- ëª¨ë‹ˆí„°ë§ ê·œì¹™

**ì˜ˆì‹œ**: ì´ë²¤íŠ¸ ê²°í•© timeout ë¬¸ì œ

### 004 - SQL DDL ìƒì„±
**íŒŒì¼**: [`004-sql-ddl-generator.md`](./004-sql-ddl-generator.md)

ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” ìë™ ìƒì„± ë° ê´€ë¦¬:
- ìŠ¤í‚¤ë§ˆ ë¶„ì„
- CREATE/DROP ë¬¸ ìƒì„±
- ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±
- ê²€ì¦ ì¿¼ë¦¬ ìƒì„±
- ì •ë¦¬(cleanup) ì‘ì—… ìë™í™”

**ì˜ˆì‹œ**: `cmon_event_info`, `cmon_service_inventory_master` í…Œì´ë¸” ì •ë¦¬

## í™œìš© ë°©ë²•

### ìŠ¬ë˜ì‹œ ì»¤ë§¨ë“œ ì‚¬ìš© (í–¥í›„)
```bash
# SQL í”„ë¡œì‹œì € ë¶„ì„
/analyze-sql-proc p_combine_event_obs

# Java Job ë¶„ì„
/analyze-java-job src/main/java/com/kt/job/ObservabilityEventWorker.java

# ì„±ëŠ¥ ì´ìŠˆ ë¬¸ì„œ
/analyze-perf-issue --title "Event Timeout" --component CombineEventServiceJob

# DDL ìƒì„±
/generate-ddl cmon_event_info cleanup
```

### ìˆ˜ë™ ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš© (í˜„ì¬)
```bash
# SQL í”„ë¡œì‹œì € ë¶„ì„
python3 sql_procedure_analyzer.py src/main/resources/sql/p_combine_event_obs.sql

# Java Job ë¶„ì„
python3 job_analyzer.py src/main/java/com/kt/job/ObservabilityEventWorker.java

# DDL ìƒì„±
python3 ddl_generator.py analyze cmon_event_info
```

## ê´€ë ¨ í”„ë¡œì íŠ¸

- **luppiter-web**: Java ë°°ì¹˜ ì²˜ë¦¬, ì´ë²¤íŠ¸ í†µí•©
- **luppiter_scheduler**: í”„ë¡œì‹œì € ê¸°ë°˜ ìŠ¤ì¼€ì¤„ ì‘ì—…
- **morning_report**: ì„±ëŠ¥ ìµœì í™” í•„ìš”
- **zabbix_api**: ëª¨ë‹ˆí„°ë§ ë°ì´í„° ìˆ˜ì§‘

## ë¬¸ì„œ êµ¬ì¡°

```
docs/automations/
â”œâ”€â”€ README.md (ì´ íŒŒì¼)
â”œâ”€â”€ 000-template.md (í…œí”Œë¦¿)
â”œâ”€â”€ 001-sql-procedure-analysis.md
â”œâ”€â”€ 002-java-job-analysis.md
â”œâ”€â”€ 003-performance-issue-doc.md
â””â”€â”€ 004-sql-ddl-generator.md
```

## ê¸°ì—¬ ë°©ë²•

ìƒˆë¡œìš´ íŒ¨í„´ ë°œê²¬ ì‹œ:
1. `000-template.md` ë³µì‚¬
2. íŒŒì¼ëª…: `NNN-pattern-name.md` í˜•ì‹
3. ìƒì„¸ ì •ë³´ ì‘ì„±
4. ì´ README ì—…ë°ì´íŠ¸

## ì°¸ê³  ìë£Œ

- **ë©”ì¸ í”„ë¡œì íŠ¸ ì§€ì¹¨**: `/Users/jiwoong.kim/Documents/claude/CLAUDE.md`
- **ê¸°ìˆ  ê°€ì´ë“œ**: `/Users/jiwoong.kim/Documents/claude/docs/learnings/`
- **ì˜ì‚¬ê²°ì • ê¸°ë¡**: `/Users/jiwoong.kim/Documents/claude/docs/decisions/`
- **ì„±ëŠ¥ ë¶„ì„**: `/Users/jiwoong.kim/Documents/claude/docs/o11y/`

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2026-01-28
**ë‹¤ìŒ ê²€í†  ì˜ˆì •**: 2026-02-04 (ì¼ì£¼ì¼ í›„)
