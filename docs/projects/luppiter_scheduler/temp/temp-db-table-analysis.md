# Luppiter ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” ì‚¬ìš© í˜„í™© ë¶„ì„

## ë¶„ì„ì¼
2026-01-22

## ëŒ€ìƒ í”„ë¡œì íŠ¸
- luppiter_web
- luppiter_scheduler

---

## ìš”ì•½

| êµ¬ë¶„ | ê°œìˆ˜ | ë¹„ìœ¨ |
|------|------|------|
| **ì‚¬ìš©** | 54ê°œ | 69% |
| **ë¯¸ì‚¬ìš©** | 24ê°œ | 31% |
| **ì´ê³„** | 78ê°œ | 100% |

---

## ì‚¬ìš© í…Œì´ë¸” (54ê°œ)

| í…Œì´ë¸”ëª… | Web | Scheduler | ì£¼ìš” ìš©ë„ |
|----------|:---:|:---------:|----------|
| c00_common_code | âœ… | âœ… | ê³µí†µì½”ë“œ |
| c00_system_properties | âœ… | âœ… | ì‹œìŠ¤í…œ ì„¤ì • |
| c01_batch_common | | âœ… | ë°°ì¹˜ ê³µí†µ |
| c01_batch_event | âœ… | âœ… | ë°°ì¹˜ ì´ë²¤íŠ¸ |
| c01_batch_shed_lock | | âœ… | ë°°ì¹˜ ë½ |
| c01_dbconn_info | | âœ… | DB ì—°ê²°ì •ë³´ |
| c01_event_function_mapping | âœ… | | ì´ë²¤íŠ¸ í•¨ìˆ˜ ë§¤í•‘ |
| c01_zabbix_info | âœ… | âœ… | Zabbix ì •ë³´ |
| c02_zone_type_mapping | âœ… | | Zone íƒ€ì… ë§¤í•‘ |
| cmon_agent_info | âœ… | | ì—ì´ì „íŠ¸ ì •ë³´ |
| cmon_custom_column | âœ… | | ì»¤ìŠ¤í…€ ì»¬ëŸ¼ |
| cmon_daily_chart | âœ… | | ì¼ë³„ ì°¨íŠ¸ |
| cmon_event_exception | âœ… | | ì´ë²¤íŠ¸ ì˜ˆì™¸ |
| cmon_event_info | âœ… | âœ… | **í•µì‹¬ ì´ë²¤íŠ¸** |
| cmon_event_resp_manage_info | âœ… | | ì´ë²¤íŠ¸ ëŒ€ì‘ê´€ë¦¬ |
| cmon_exception_event | âœ… | | ì˜ˆì™¸ ì´ë²¤íŠ¸ |
| cmon_exception_event_detail | âœ… | | ì˜ˆì™¸ ì´ë²¤íŠ¸ ìƒì„¸ |
| cmon_exception_event_history | âœ… | | ì˜ˆì™¸ ì´ë²¤íŠ¸ ì´ë ¥ |
| cmon_exception_event_mail | âœ… | âœ… | ì˜ˆì™¸ ì´ë²¤íŠ¸ ë©”ì¼ |
| cmon_group | âœ… | | ê·¸ë£¹ |
| cmon_group_layer | âœ… | | ê·¸ë£¹ ë ˆì´ì–´ |
| cmon_group_layer_history | âœ… | | ê·¸ë£¹ ë ˆì´ì–´ ì´ë ¥ |
| cmon_group_user | âœ… | | ê·¸ë£¹ ì‚¬ìš©ì |
| cmon_group_user_history | âœ… | | ê·¸ë£¹ ì‚¬ìš©ì ì´ë ¥ |
| cmon_idc_list | âœ… | | IDC ëª©ë¡ |
| cmon_incident_event_info | âœ… | | ì¸ì‹œë˜íŠ¸ ì´ë²¤íŠ¸ |
| cmon_incident_info | âœ… | | ì¸ì‹œë˜íŠ¸ ì •ë³´ |
| cmon_incident_proc | âœ… | | ì¸ì‹œë˜íŠ¸ ì²˜ë¦¬ |
| cmon_layer_code_info | âœ… | | ë ˆì´ì–´ ì½”ë“œ |
| cmon_maintenance_detail | âœ… | âœ… | ë©”ì¸í„°ë„ŒìŠ¤ ìƒì„¸ |
| cmon_maintenance_history | âœ… | âœ… | ë©”ì¸í„°ë„ŒìŠ¤ ì´ë ¥ |
| cmon_maintenance_mail | âœ… | âœ… | ë©”ì¸í„°ë„ŒìŠ¤ ë©”ì¼ |
| cmon_maintenance_main | âœ… | âœ… | ë©”ì¸í„°ë„ŒìŠ¤ ë©”ì¸ |
| cmon_maintenance_mapping | âœ… | âœ… | ë©”ì¸í„°ë„ŒìŠ¤ ë§¤í•‘ |
| cmon_refine_event | âœ… | | ì •ì œ ì´ë²¤íŠ¸ |
| cmon_refine_event_detail | âœ… | | ì •ì œ ì´ë²¤íŠ¸ ìƒì„¸ |
| cmon_resp_manage_info | âœ… | | ëŒ€ì‘ê´€ë¦¬ ì •ë³´ |
| cmon_resp_manage_info_history | âœ… | | ëŒ€ì‘ê´€ë¦¬ ì´ë ¥ |
| cmon_user | âœ… | âœ… | ì‚¬ìš©ì |
| cmon_zabbix_info | âœ… | âœ… | Zabbix ì—°ë™ |
| group_code_info | âœ… | | ê·¸ë£¹ ì½”ë“œ |
| inventory_master | âœ… | | **ì¸ë²¤í† ë¦¬ ë§ˆìŠ¤í„°** |
| inventory_master_history | âœ… | | ì¸ë²¤í† ë¦¬ ì´ë ¥ |
| inventory_master_sub | âœ… | | ì¸ë²¤í† ë¦¬ ì„œë¸Œ |
| p03_host_manage_detail | âœ… | âœ… | í˜¸ìŠ¤íŠ¸ ê´€ë¦¬ ìƒì„¸ |
| p03_host_manage_hist | | âœ… | í˜¸ìŠ¤íŠ¸ ê´€ë¦¬ ì´ë ¥ |
| p03_host_manage_mst | âœ… | âœ… | í˜¸ìŠ¤íŠ¸ ê´€ë¦¬ ë§ˆìŠ¤í„° |
| p03_host_manage_template | âœ… | | í˜¸ìŠ¤íŠ¸ ê´€ë¦¬ í…œí”Œë¦¿ |
| p04_alarm_service_mapping | âœ… | âœ… | ì•ŒëŒ ì„œë¹„ìŠ¤ ë§¤í•‘ |
| x00_batch_event_log | | âœ… | ë°°ì¹˜ ì´ë²¤íŠ¸ ë¡œê·¸ |
| x00_batch_log | | âœ… | ë°°ì¹˜ ë¡œê·¸ |
| x01_if_event_data | âœ… | âœ… | ì´ë²¤íŠ¸ ì—°ë™ |
| x01_if_event_zenius | | âœ… | Zenius ì´ë²¤íŠ¸ ì—°ë™ |

---

## ë¯¸ì‚¬ìš© í…Œì´ë¸” (24ê°œ)

| í…Œì´ë¸”ëª… | ì¶”ì • ìš©ë„ | ë¹„ê³  |
|----------|----------|------|
| agent_message | ì—ì´ì „íŠ¸ ë©”ì‹œì§€ | ë¯¸êµ¬í˜„/íê¸° |
| cmon_agent_target_list | ì—ì´ì „íŠ¸ íƒ€ê²Ÿ | ë¯¸êµ¬í˜„/íê¸° |
| cmon_event_group | ì´ë²¤íŠ¸ ê·¸ë£¹ | ë¯¸êµ¬í˜„/íê¸° |
| cmon_incident_contact | ì¸ì‹œë˜íŠ¸ ì—°ë½ì²˜ | ë¯¸êµ¬í˜„/íê¸° |
| cmon_login_log | ë¡œê·¸ì¸ ë¡œê·¸ | ë¯¸êµ¬í˜„/íê¸° |
| cmon_refine_event_history | ì •ì œ ì´ë²¤íŠ¸ ì´ë ¥ | ë¯¸êµ¬í˜„/íê¸° |
| cmon_resp_lv_info | ëŒ€ì‘ ë ˆë²¨ ì •ë³´ | ë¯¸êµ¬í˜„/íê¸° |
| cmon_user_sessions | ì‚¬ìš©ì ì„¸ì…˜ | ë¯¸êµ¬í˜„/íê¸° |
| dcim_cabinet_info_inbot | DCIM ìºë¹„ë‹› | DCIM ì—°ë™ ë¯¸ì‚¬ìš© |
| dcim_device_info_inbot | DCIM ì¥ë¹„ | DCIM ì—°ë™ ë¯¸ì‚¬ìš© |
| event_received_message | ìˆ˜ì‹  ë©”ì‹œì§€ | ë¯¸êµ¬í˜„/íê¸° |
| inventory_dcim_cabinet | ì¸ë²¤í† ë¦¬ DCIM | DCIM ì—°ë™ ë¯¸ì‚¬ìš© |
| inventory_dcim_device | ì¸ë²¤í† ë¦¬ DCIM | DCIM ì—°ë™ ë¯¸ì‚¬ìš© |
| inventory_itam | ì¸ë²¤í† ë¦¬ ITAM | ITAM ì—°ë™ ë¯¸ì‚¬ìš© |
| inventory_master_excel | ì—‘ì…€ ì—…ë¡œë“œìš© | ì¼íšŒì„±/ì„ì‹œ |
| inventory_master_form | í¼ ë°ì´í„°ìš© | ì¼íšŒì„±/ì„ì‹œ |
| itsm_infra_change | ITSM ì¸í”„ë¼ ë³€ê²½ | ITSM ì—°ë™ ë¯¸ì‚¬ìš© |
| itsm_tam_change | ITSM TAM ë³€ê²½ | ITSM ì—°ë™ ë¯¸ì‚¬ìš© |
| message_send_log | ë©”ì‹œì§€ ë°œì†¡ ë¡œê·¸ | ë¯¸êµ¬í˜„/íê¸° |
| p03_host_remove_detail | í˜¸ìŠ¤íŠ¸ ì‚­ì œ ìƒì„¸ | ë¯¸êµ¬í˜„/íê¸° |
| p03_host_remove_hist | í˜¸ìŠ¤íŠ¸ ì‚­ì œ ì´ë ¥ | ë¯¸êµ¬í˜„/íê¸° |
| p03_host_remove_mst | í˜¸ìŠ¤íŠ¸ ì‚­ì œ ë§ˆìŠ¤í„° | ë¯¸êµ¬í˜„/íê¸° |
| p04_slack_event_targets | Slack ì´ë²¤íŠ¸ | ë¯¸êµ¬í˜„/íê¸° |
| sms_send_message | SMS ë°œì†¡ | ë¯¸êµ¬í˜„/íê¸° |

---

## ë¯¸ì‚¬ìš© í…Œì´ë¸” ë¶„ë¥˜

| ë¶„ë¥˜ | í…Œì´ë¸” ìˆ˜ | í…Œì´ë¸” |
|------|----------|--------|
| DCIM/ITAM ì—°ë™ | 5ê°œ | dcim_*, inventory_dcim_*, inventory_itam |
| ITSM ì—°ë™ | 2ê°œ | itsm_* |
| í˜¸ìŠ¤íŠ¸ ì‚­ì œ | 3ê°œ | p03_host_remove_* |
| ë©”ì‹œì§€/ì•Œë¦¼ | 4ê°œ | *_message, sms_*, p04_slack_* |
| ê¸°íƒ€ íê¸° | 10ê°œ | cmon_login_log, cmon_user_sessions ë“± |

---

## DROP TABLE ë¦¬ìŠ¤í¬ ë¶„ì„

### ë¦¬ìŠ¤í¬ ë§¤íŠ¸ë¦­ìŠ¤

| ë¦¬ìŠ¤í¬ | ì˜í–¥ë„ | ëŒ€ì‘ |
|--------|--------|------|
| FK ì°¸ì¡° | ğŸ”´ ë†’ìŒ | DROP ì‹¤íŒ¨ ë˜ëŠ” ì—°ì‡„ ì‚­ì œ |
| View/Procedure ì°¸ì¡° | ğŸ”´ ë†’ìŒ | ì˜¤ë¥˜ ë°œìƒ |
| ì™¸ë¶€ ì‹œìŠ¤í…œ ì°¸ì¡° | ğŸŸ¡ ì¤‘ê°„ | ì—°ë™ ì˜¤ë¥˜ |
| ë°ì´í„° ë³µêµ¬ í•„ìš” | ğŸŸ¡ ì¤‘ê°„ | ë°±ì—… í•„ìˆ˜ |
| ìš©ëŸ‰ | ğŸŸ¢ ë‚®ìŒ | 500MB ë¯¸ë§Œ - ë¬´ì‹œ ê°€ëŠ¥ |

### í…Œì´ë¸”ë³„ ë¦¬ìŠ¤í¬ ë¶„ë¥˜

#### ğŸŸ¢ ë‚®ì€ ë¦¬ìŠ¤í¬ (ì¦‰ì‹œ ì‚­ì œ ê°€ëŠ¥) - 14ê°œ

| í…Œì´ë¸” | ì´ìœ  |
|--------|------|
| inventory_master_excel | ì„ì‹œ ì—…ë¡œë“œìš©, ì¼íšŒì„± |
| inventory_master_form | ì„ì‹œ í¼ ë°ì´í„°, ì¼íšŒì„± |
| cmon_refine_event_history | ì´ë ¥ í…Œì´ë¸”, ì°¸ì¡° ì—†ìŒ |
| cmon_login_log | ë¡œê·¸ í…Œì´ë¸”, ì°¸ì¡° ì—†ìŒ |
| cmon_user_sessions | ì„¸ì…˜ í…Œì´ë¸”, ì°¸ì¡° ì—†ìŒ |
| event_received_message | ë©”ì‹œì§€ ë¡œê·¸, ì°¸ì¡° ì—†ìŒ |
| message_send_log | ë°œì†¡ ë¡œê·¸, ì°¸ì¡° ì—†ìŒ |
| sms_send_message | SMS ë¡œê·¸, ì°¸ì¡° ì—†ìŒ |
| agent_message | ë©”ì‹œì§€ ë¡œê·¸, ì°¸ì¡° ì—†ìŒ |
| cmon_agent_target_list | ë‹¨ë… í…Œì´ë¸” |
| cmon_event_group | ë‹¨ë… í…Œì´ë¸” |
| cmon_resp_lv_info | ë‹¨ë… í…Œì´ë¸” |
| p04_slack_event_targets | ë‹¨ë… í…Œì´ë¸” |
| cmon_incident_contact | ë‹¨ë… í…Œì´ë¸” |

#### ğŸŸ¡ ì¤‘ê°„ ë¦¬ìŠ¤í¬ (í™•ì¸ í›„ ì‚­ì œ) - 7ê°œ

| í…Œì´ë¸” | ë¦¬ìŠ¤í¬ | í™•ì¸ í•„ìš” |
|--------|--------|----------|
| dcim_cabinet_info_inbot | ì™¸ë¶€ ì—°ë™ | DCIM ì‹œìŠ¤í…œ ì—°ë™ ì—¬ë¶€ |
| dcim_device_info_inbot | ì™¸ë¶€ ì—°ë™ | DCIM ì‹œìŠ¤í…œ ì—°ë™ ì—¬ë¶€ |
| inventory_dcim_cabinet | ì™¸ë¶€ ì—°ë™ | DCIM ì‹œìŠ¤í…œ ì—°ë™ ì—¬ë¶€ |
| inventory_dcim_device | ì™¸ë¶€ ì—°ë™ | DCIM ì‹œìŠ¤í…œ ì—°ë™ ì—¬ë¶€ |
| inventory_itam | ì™¸ë¶€ ì—°ë™ | ITAM ì‹œìŠ¤í…œ ì—°ë™ ì—¬ë¶€ |
| itsm_infra_change | ì™¸ë¶€ ì—°ë™ | ITSM ì‹œìŠ¤í…œ ì—°ë™ ì—¬ë¶€ |
| itsm_tam_change | ì™¸ë¶€ ì—°ë™ | ITSM ì‹œìŠ¤í…œ ì—°ë™ ì—¬ë¶€ |

#### ğŸŸ  ì£¼ì˜ í•„ìš” (FK í™•ì¸ í•„ìˆ˜) - 3ê°œ

| í…Œì´ë¸” | ë¦¬ìŠ¤í¬ | í™•ì¸ í•„ìš” |
|--------|--------|----------|
| p03_host_remove_mst | FK ê°€ëŠ¥ì„± | detail, hist í…Œì´ë¸”ê³¼ ê´€ê³„ |
| p03_host_remove_detail | FK ê°€ëŠ¥ì„± | mst í…Œì´ë¸” ì°¸ì¡° |
| p03_host_remove_hist | FK ê°€ëŠ¥ì„± | mst í…Œì´ë¸” ì°¸ì¡° |

---

## ì‚­ì œ ì „ í™•ì¸ ìŠ¤í¬ë¦½íŠ¸

### FK ì°¸ì¡° í™•ì¸

```sql
SELECT
    tc.table_name AS child_table,
    kcu.column_name AS fk_column,
    ccu.table_name AS parent_table
FROM information_schema.table_constraints tc
JOIN information_schema.key_column_usage kcu
    ON tc.constraint_name = kcu.constraint_name
JOIN information_schema.constraint_column_usage ccu
    ON ccu.constraint_name = tc.constraint_name
WHERE tc.constraint_type = 'FOREIGN KEY'
AND ccu.table_name IN (
    'agent_message', 'cmon_agent_target_list', 'cmon_event_group',
    'cmon_incident_contact', 'cmon_login_log', 'cmon_refine_event_history',
    'cmon_resp_lv_info', 'cmon_user_sessions', 'dcim_cabinet_info_inbot',
    'dcim_device_info_inbot', 'event_received_message', 'inventory_dcim_cabinet',
    'inventory_dcim_device', 'inventory_itam', 'inventory_master_excel',
    'inventory_master_form', 'itsm_infra_change', 'itsm_tam_change',
    'message_send_log', 'p03_host_remove_detail', 'p03_host_remove_hist',
    'p03_host_remove_mst', 'p04_slack_event_targets', 'sms_send_message'
);
```

### View ì°¸ì¡° í™•ì¸

```sql
SELECT DISTINCT v.table_name AS view_name, d.table_name AS referenced_table
FROM information_schema.views v
JOIN information_schema.view_table_usage d ON v.table_name = d.view_name
WHERE d.table_name IN (
    'agent_message', 'cmon_agent_target_list', 'cmon_event_group',
    'cmon_incident_contact', 'cmon_login_log', 'cmon_refine_event_history',
    'cmon_resp_lv_info', 'cmon_user_sessions', 'dcim_cabinet_info_inbot',
    'dcim_device_info_inbot', 'event_received_message', 'inventory_dcim_cabinet',
    'inventory_dcim_device', 'inventory_itam', 'inventory_master_excel',
    'inventory_master_form', 'itsm_infra_change', 'itsm_tam_change',
    'message_send_log', 'p03_host_remove_detail', 'p03_host_remove_hist',
    'p03_host_remove_mst', 'p04_slack_event_targets', 'sms_send_message'
);
```

---

## ê¶Œì¥ ì‚­ì œ ì ˆì°¨

### Phase 1: ë‚®ì€ ë¦¬ìŠ¤í¬ (14ê°œ)

```sql
BEGIN;

DROP TABLE IF EXISTS inventory_master_excel;
DROP TABLE IF EXISTS inventory_master_form;
DROP TABLE IF EXISTS cmon_refine_event_history;
DROP TABLE IF EXISTS cmon_login_log;
DROP TABLE IF EXISTS cmon_user_sessions;
DROP TABLE IF EXISTS event_received_message;
DROP TABLE IF EXISTS message_send_log;
DROP TABLE IF EXISTS sms_send_message;
DROP TABLE IF EXISTS agent_message;
DROP TABLE IF EXISTS cmon_agent_target_list;
DROP TABLE IF EXISTS cmon_event_group;
DROP TABLE IF EXISTS cmon_resp_lv_info;
DROP TABLE IF EXISTS p04_slack_event_targets;
DROP TABLE IF EXISTS cmon_incident_contact;

-- í™•ì¸ í›„ COMMIT ë˜ëŠ” ROLLBACK
-- COMMIT;
```

### Phase 2: ì¤‘ê°„ ë¦¬ìŠ¤í¬ - ì™¸ë¶€ ì—°ë™ í™•ì¸ í›„ (7ê°œ)

```sql
BEGIN;

DROP TABLE IF EXISTS dcim_cabinet_info_inbot;
DROP TABLE IF EXISTS dcim_device_info_inbot;
DROP TABLE IF EXISTS inventory_dcim_cabinet;
DROP TABLE IF EXISTS inventory_dcim_device;
DROP TABLE IF EXISTS inventory_itam;
DROP TABLE IF EXISTS itsm_infra_change;
DROP TABLE IF EXISTS itsm_tam_change;

-- COMMIT;
```

### Phase 3: FK í™•ì¸ í›„ (3ê°œ) - ìˆœì„œ ì¤‘ìš”

```sql
BEGIN;

DROP TABLE IF EXISTS p03_host_remove_hist;    -- ìì‹ ë¨¼ì €
DROP TABLE IF EXISTS p03_host_remove_detail;  -- ìì‹ ë¨¼ì €
DROP TABLE IF EXISTS p03_host_remove_mst;     -- ë¶€ëª¨ ë§ˆì§€ë§‰

-- COMMIT;
```

---

## ê²°ë¡ 

| êµ¬ë¶„ | ê°œìˆ˜ | ì•¡ì…˜ |
|------|------|------|
| ğŸŸ¢ ì¦‰ì‹œ ì‚­ì œ | 14ê°œ | ë°±ì—… í›„ ë°”ë¡œ DROP |
| ğŸŸ¡ í™•ì¸ í›„ ì‚­ì œ | 7ê°œ | ì™¸ë¶€ ì‹œìŠ¤í…œ ë‹´ë‹¹ì í™•ì¸ |
| ğŸŸ  FK í™•ì¸ | 3ê°œ | ìœ„ ìŠ¤í¬ë¦½íŠ¸ë¡œ í™•ì¸ í›„ ìˆœì„œëŒ€ë¡œ |

**ì´ ë¦¬ìŠ¤í¬**: ğŸŸ¢ **ë‚®ìŒ** (ìš©ëŸ‰ ì ê³ , ì½”ë“œ ì°¸ì¡° ì—†ìŒ, ë°±ì—…í•˜ë©´ ë³µêµ¬ ê°€ëŠ¥)
