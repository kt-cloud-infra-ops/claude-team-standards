# Luppiter Web - 월보드 종합 대시보드 화면 구조

## 개요

본 문서는 Luppiter Web의 **월보드 종합 대시보드** 화면의 구조와 처리 흐름을 설명합니다.

---

## 화면 정보

- **URL**: `/dashboard/wall`
- **JSP 파일**: `web/dashboard/wallMain.jsp`
- **Controller**: `DashboardController.java`
- **설명**: 월보드 - 종합 대시보드 (공공/민간/Captive)

---

## 화면 구성 요소

### 1. 헤더 영역
- **실시간 배지**: `horizontal-badge` - 현재 시간 표시

### 2. 카드 영역 (`card-wrap card-3`)
- **공공(ZT0001) 카드**:
  - 이벤트 대응: 실시간 지속 건수, 일일 총 발생건수
  - 인시던트 실시간 발생건
  - 장애 대응
- **민간 카드**
- **Captive 카드**

---

## 처리 흐름

### 1단계: 화면 초기화

```
[페이지 로드]
    │
    └─► DashboardController.viewWallMain()
        └─► wallMain.jsp 렌더링

    ▼

[JavaScript 초기화]
    │
    └─► WallMainDashboard.js 로드
        ├─► 실시간 시간 업데이트
        └─► 데이터 조회 시작
```

#### 주요 코드 위치
- **컨트롤러**: `DashboardController.java:41-51`
- **JSP**: `web/dashboard/wallMain.jsp`

### 2단계: 데이터 조회

```
[이벤트 요약 조회]
    │
    └─► POST /dashboard/wall/summary/event
        └─► 오늘 기준 지속 이벤트 건수, 일일 총 이벤트 건수

    ▼

[에러 요약 조회]
    │
    └─► POST /dashboard/wall/summary/error
        └─► 오늘 기준 이상징후, 관리장애, 장애 이벤트 건수

    ▼

[장비 현황 조회]
    │
    └─► POST /dashboard/wall/summary/control_type
        └─► 장비 현황 정보
```

#### 주요 코드 위치
- **API 엔드포인트**: `DashboardController.java:56-128`

---

## 주요 API 엔드포인트

| API | 메서드 | 엔드포인트 | 설명 |
|-----|--------|------------|------|
| 이벤트 요약 조회 | POST | `/dashboard/wall/summary/event` | 오늘 기준 지속 이벤트 건수, 일일 총 이벤트 건수 |
| 에러 요약 조회 | POST | `/dashboard/wall/summary/error` | 오늘 기준 이상징후, 관리장애, 장애 이벤트 건수 |
| 장비 현황 조회 | POST | `/dashboard/wall/summary/control_type` | 장비 현황 정보 |

---

## 데이터 흐름 다이어그램

```
[페이지 로드]
    │
    └─► JavaScript 초기화
        ├─► 실시간 시간 업데이트
        └─► 데이터 조회 시작

    ▼

[API 호출]
    │
    ├─► POST /dashboard/wall/summary/event
    │   └─► DashboardService.getSummaryEventCnt()
    │
    ├─► POST /dashboard/wall/summary/error
    │   └─► DashboardService.getSummaryErrorCnt()
    │
    └─► POST /dashboard/wall/summary/control_type
        └─► DashboardService.getSummaryInventoryList()

    ▼

[화면 업데이트]
    │
    └─► 카드 데이터 바인딩
        ├─► 이벤트 대응 정보 표시
        ├─► 인시던트 발생건 표시
        └─► 장애 대응 정보 표시
```

---

## 주요 코드 위치

### Controller
- **화면 컨트롤러**: `DashboardController.java:41-51`
- **API 컨트롤러**: `DashboardController.java:56-128`

### Service
- **서비스**: `DashboardService.java`

### JSP
- **메인 화면**: `WEB-INF/jsp/web/dashboard/wallMain.jsp`
- **JavaScript**: `js/custom/WallMainDashboard.js`

---

## 작성일
2025-01-27

