# ADR-003: Git 운영 정책

## 상태

승인됨 (2026-01-30)

## 컨텍스트

팀원들이 공유 저장소를 사용하면서 충돌 방지와 효율적인 협업이 필요함.

## 결정

### 1. 브랜치 전략

| 브랜치 | 용도 | 권한 |
|--------|------|------|
| `main` | 안정 버전 | PR 머지만 허용 |
| `feature/{작업명}` | 기능 추가/수정 | 개인 작업 |
| `docs/{서비스}/{내용}` | 문서 작업 | 개인 작업 |

### 2. 파일 소유권 구분

| 영역 | 수정 방식 | 예시 |
|------|----------|------|
| **개인 전용** | 직접 커밋 가능 | `docs/personal/{사번}/` |
| **서비스 담당** | 담당자 직접, 타인은 PR | `docs/service/{담당서비스}/` |
| **공용** | 항상 PR 필요 | `CLAUDE.md`, `.claude/commands/` |

### 3. 커밋 컨벤션

```
{type}: {설명}

type:
- docs: 문서 추가/수정
- feat: 새 기능 (커맨드, 규칙)
- fix: 오류 수정
- refactor: 구조 변경
```

### 4. PR 정책

- **공용 파일 수정**: 최소 1명 리뷰 필수
- **개인/담당 서비스**: 리뷰 선택 (셀프 머지 가능)
- **대량 변경**: 사전 공지 후 진행

### 5. 충돌 해결

1. `git pull --rebase` 우선 시도
2. 충돌 시 담당자와 협의
3. 공용 파일 충돌은 팀 채널에 공유

## 시스템 제어

### CODEOWNERS (GitHub)

파일별 소유자 지정으로 PR 시 자동 리뷰어 할당

### Branch Protection (GitHub)

- main 브랜치 직접 push 차단
- PR 리뷰 필수 설정

## 결과

- 개인 영역은 자유롭게, 공용 영역은 리뷰를 통해 품질 관리
- CODEOWNERS로 자동화된 리뷰어 할당
